<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Practice Exam 2</title>
	<!-- https://www.srihash.org/ -->
	<link rel="stylesheet" href="https://39363.org/CDN/jquery-ui.css" integrity="sha256-RPilbUJ5F7X6DdeTO6VFZ5vl5rO5MJnmSk4pwhWfV8A=" >
	<script src="https://39363.org/CDN/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="></script>
	<link rel="stylesheet" href="https://39363.org/CDN/bootstrap.min.css" integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We">
	<script src="https://39363.org/CDN/bootstrap.bundle.min.js" integrity="sha384-U1DAWAznBHeqEIlVSCgzq+c9gqGAJn5c/t99JyeKa9xxaYpSvHU5awsuZVVFIhvj"></script>
	<script src="https://39363.org/CDN/jquery-ui.min.js" integrity="sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU=" ></script>
	<link rel="stylesheet" href="https://39363.org/CDN/katex/katex.min.css" integrity="sha256-M6KFoDq9eUpmogkDgw6+3R3ZgUPSuFXnQyr8tskSfQs=">
	<script src="https://39363.org/CDN/katex/katex.min.js" integrity="sha256-FyuFDgL3AT2Wi7dlv82fSVvxe2rPx1rRSVtMOWeRp6k="></script>
	<script src="https://39363.org/CDN/katex/mhchem.min.js" integrity="sha256-rdVHJ96CTjgtCSJGnAZzhrvBOklMB9jN1B6oyg5J8uU="></script>
	<script src="https://39363.org/CDN/katex/auto-render.min.js" integrity="sha256-G53bYZLObbTLTA3j70xRGPKxKYlBbzvDZ789B6sSFkE="></script>
	<style type="text/css">
	 	body {
			background-color: #2E3033;
			color: #b8bfc6;
		}
		.next-button {
			text-decoration: none;
			display: inline-block;
			padding: 8px 16px;
			border-radius: 50%;
			background-color: #b7b7b7;
			color: white;
		}
		.previous-button {
			text-decoration: none;
			display: inline-block;
			padding: 8px 16px;
			border-radius: 50%;
			background-color: #b7b7b7;
			color: white;
		}
		.our-no-gutter {
			margin-left: 0;
			margin-right: 0;
			padding-left: 0;
			padding-right: 0;
		}
		.slimmed-padding {
			margin-left: 0 !important;
			margin-right: 0 !important;
			padding-left: 1 !important;
			padding-right: 1 !important;
		}
		.correct {
			border: 2px solid green;
		}
	</style>
</head>
<body>
	<div class="container">
		<!-- <div class="row justify-content-center" style="border: 1px solid red"> -->
		<div class="row justify-content-center">
			<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 our-no-gutter">
				<div class="card" style="background-color: #363B40;">
					<div class="card-header text-center">
						<div id="card-title-content"></div>
					</div>
					<div class="card-body slimmed-padding" id="card-body-container">
						<div id="card-body-content"></div>
					</div>
				</div>
			</div>
		</div>
		<br></br>
		<!-- <div class="row justify-content-center fixed-row-bottom" id="row-navigation" style="border: 1px solid green"> -->
		<div class="row justify-content-center fixed-row-bottom" id="row-navigation">
			<div class="col text-center">
				<div>
					<span id="current-card-number"></span>&nbsp;&nbsp;&nbsp;
					<span id="previous-button" class="previous-button">&#8249;</span>&nbsp;&nbsp;&nbsp;
					<span id="next-button" class="next-button">&#8250;</span>&nbsp;&nbsp;&nbsp;
					<span id="total-cards"></span>
				</div>
			</div>
		</div>
		<!-- <div class="row justify-content-center" id="row-grading" style="border: 1px solid blue"> -->
		<div class="row justify-content-center" id="row-grading">
			<div class="col text-center">
				<!-- https://getbootstrap.com/docs/5.0/customize/color/ -->
				<button type="button" class="btn btn-danger">Again</button>&nbsp;
				<button type="button" class="btn btn-warning">Hard</button>&nbsp;
				<button type="button" class="btn btn-success">Good</button>&nbsp;
				<button type="button" class="btn btn-primary">Easy</button>
			</div>
		</div>
		<div class="row justify-content-center">
			<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 our-no-gutter">
				<!-- https://getbootstrap.com/docs/5.0/utilities/sizing/ -->
				<!-- <div id="row-extra-space" style="height: 80vh; border: 1px solid yellow"></div> -->
				<div id="row-extra-space" style="height: 80vh;"></div>
			</div>
		</div>

	</div>

	<script type="text/javascript">
		function setup_hooks() {
			// $( ".card" ).on( "click" , function( event ) {
			// 	if ( event.type == "click" ) { window.DOCUMENT_CLICKED = true; }
			// 	if ( window.DOCUMENT_CLICKED ) { next_card(); }
			// });
			// $( "#row-extra-space" ).on( "click" , function( event ) {
			// 	if ( event.type == "click" ) { window.DOCUMENT_CLICKED = true; }
			// 	if ( window.DOCUMENT_CLICKED ) { next_card(); }
			// });
			$( "#previous-button" ).on( "click" , previous_card );
			$( "#next-button" ).on( "click" , next_card );
			$( document ).keydown( function( event ) {
				switch ( event.keyCode ) {
					case 32:
						next_card();
						setTimeout( () => {
							window.scrollTo( 0 , 0 );
						} , 100 );
						break; // space
					case 37: previous_card(); break; // left arrow
					case 39: next_card(); break; // right arrow
				}
			});
		}
		function previous_card() {
			if ( window.BACK_IS_RENDERED === false ) {
				// $( "#card-body-content" ).show();
				render_correct_answers();
				// $( "#row-navigation" ).show();
				window.BACK_IS_RENDERED = true;
			} else {
				window.BACK_IS_RENDERED = false;
				console.log( window.DECK.questions.length , window.DECK.active_index );
				window.DECK.active_index = ( window.DECK.active_index - 1 );
				if ( window.DECK.active_index < 0 ) { window.DECK.active_index = ( window.DECK.questions.length - 1 ); }
				render_active_card();
			}
		}
		function next_card() {
			if ( window.BACK_IS_RENDERED === false ) {
				// $( "#card-body-content" ).show();
				render_correct_answers();
				// $( "#row-navigation" ).show();
				window.BACK_IS_RENDERED = true;
			} else {
				window.BACK_IS_RENDERED = false;
				console.log( window.DECK.questions.length , window.DECK.active_index );
				window.DECK.active_index = ( window.DECK.active_index + 1 );
				if ( window.DECK.active_index > ( window.DECK.questions.length - 1 ) ) { window.DECK.active_index = 0; }
				render_active_card();
			}
		}
		function render_katex() {
			renderMathInElement( document.body , {
				strict: "ignore" ,
				delimiters: [ // https://stackoverflow.com/a/45301641
					{ left: "$$" , right: "$$" , display: true } ,
					{ left: "\\[" , right: "\\]" , display: true } ,
					{ left: "$" , right: "$" , display: false } ,
					{ left: "\\(" , right: "\\)" , display: false }
				]
			});
		}
		const CHOICES_ENUM = {
			0: "A" ,
			1: "B" ,
			2: "C" ,
			3: "D" ,
			4: "E" ,
			5: "F" ,
		};
		function render_correct_answers() {
			$( "input[type=radio]" ).each( function( element ) {
				for ( let i = 0; i < window.DECK.questions[ window.DECK.active_index ].correct_answer_indexes.length; ++i ) {
					if ( this.value === CHOICES_ENUM[ window.DECK.questions[ window.DECK.active_index ].correct_answer_indexes[ i ] ] ) {
						$( this ).next().addClass( "correct" );
					}
				}
			});
		}
		function render_active_card() {
			// console.log( window.DECK.questions.length , window.DECK.active_index );
			$( "#card-title-content" ).html( `<h3>${window.DECK.questions[ window.DECK.active_index ].prompt}</h3>` );
			// $( "#card-body-content" ).hide();
			// $( "#row-navigation" ).hide();

			// This is where we have to build-out html multi select and what not
			// $( "#card-body-content" ).html( window.DECK.questions[ window.DECK.active_index ].back );
			let choices_html_prefix = `<div><form class="input">`;
			let choices_html_body = "";
			for ( let i = 0; i < window.DECK.questions[ window.DECK.active_index ].choices.length; ++i ) {
				// console.log( window.DECK.questions[ window.DECK.active_index ].correct_answer_indexes.indexOf( 0 ) );
				// if ( window.DECK.questions[ window.DECK.active_index ].correct_answer_indexes.indexOf( i ) ) {
				// 	choices_html_body += `${CHOICES_ENUM[i]}.) <input type="radio" name="correct_answer" value="${CHOICES_ENUM[ i ]}">&nbsp;<span class="correct_answer_text">${window.DECK.questions[ window.DECK.active_index ].choices[ i ]}</span><br>`;
				// } else {
				// 	choices_html_body += `${CHOICES_ENUM[i]}.) <input type="radio" name="answer_choice" value="${CHOICES_ENUM[ i ]}">&nbsp;${window.DECK.questions[ window.DECK.active_index ].choices[ i ]}<br>`;
				// }
				choices_html_body += `${CHOICES_ENUM[i]}.) <input type="radio" name="answer_choice" value="${CHOICES_ENUM[ i ]}">&nbsp;<span class="choice_text">${window.DECK.questions[ window.DECK.active_index ].choices[ i ]}</span><br>`;
			}
			let choices_html_suffix = `</form></div>`;
			let choices_html = choices_html_prefix + choices_html_body + choices_html_suffix;
			$( "#card-body-content" ).html( choices_html );
			$( "input[type=radio]" ).change( function( element ) {
				for ( let i = 0; i < window.DECK.questions[ window.DECK.active_index ].correct_answer_indexes.length; ++i ) {
					if ( this.value === CHOICES_ENUM[ window.DECK.questions[ window.DECK.active_index ].correct_answer_indexes[ i ] ] ) {
						// console.log( "clicked a correct answer" );
						$( this ).next().addClass( "correct" );
					} else {
						// console.log( "clicked an incorrect answer" );
					}
				}
			});
			$( "#current-card-number" ).text( `${window.DECK.active_index + 1}` );
			render_katex();
		}
		function init() {
			render_katex();
			// window.addEventListener( "scroll" , function() {
			// 	window.scrollTo( 0 , 0 );
			// });

			// console.log( window.DECK );
			$( "#row-grading" ).hide();
			window.DECK.active_index = 0;
			window.DOCUMENT_CLICKED = false;
			window.BACK_IS_RENDERED = false;
			setup_hooks();
			// Setup First Card
			$( "#current-card-number" ).text( `${window.DECK.active_index + 1}` );
			$( "#total-cards" ).text( `${window.DECK.questions.length}` );
			render_active_card();
		}
		document.addEventListener( "DOMContentLoaded" , init );
	</script>

	<script type="text/javascript">
		window.DECK = {
			"chapter_title": "Practice Exam 2" ,
			"questions": [
				{
					"prompt": "Plasma protein involved in the processing of bilirubin." ,
					"choices": [
						"Fibrinogen" ,
						"Alpha subunit" ,
						"Beta subunit" ,
						"Albumin" ,
						"Thromboxane"
					] ,
					"correct_answer_indexes": [ 3 ]
				} ,
				{
					"prompt": "Which of the following would fail to stimulate proerythroblasts?" ,
					"choices": [
						"Iron-deficiency anemia" ,
						"Emphysema" ,
						"Smoking" ,
						"Polycythemia" ,
						"High altitude"
					] ,
					"correct_answer_indexes": [ 3 ]
				} ,
				{
					"prompt": "An increase in blood levels of lipid soluble bilirubin will cause dark colored urine." ,
					"choices": [
						"True" ,
						"False"
					] ,
					"correct_answer_indexes": [ 1 ]
				} ,
				{
					"prompt": "Binds to bilirubin thus converting it from a lipid soluble form to a water-soluble form." ,
					"choices": [
						"Glucuronic acid" ,
						"Iron" ,
						"Biliverdin" ,
						"Ferritin" ,
						"Apoferritin"
					] ,
					"correct_answer_indexes": [ 0 ]
				} ,
				{
					"prompt": "Which of the following is (are) due to a genetic defect?" ,
					"choices": [
						"Thalassemia" ,
						"Iron-deficiency anemia" ,
						"Folate deficiency anemia" ,
						"Sickle-cell anemia" ,
						"Two of the above"
					] ,
					"correct_answer_indexes": [ 0 , 3 , 4 ]
				} ,
				{
					"prompt": "Can cause vaso-occlusive crisis." ,
					"choices": [
						"Leukopenia" ,
						"Megakaryoblasts" ,
						"Sickle-cell anemia" ,
						"Purpura" ,
						"Hemophilia"
					] ,
					"correct_answer_indexes": [ 2 ]
				} ,
				{
					"prompt": "Inhibition of ____________ would lead to trouble forming a platelet plug." ,
					"choices": [
						"Thromboxane" ,
						"Von Willebrand factor" ,
						"ADP" ,
						"All of the above"
					] ,
					"correct_answer_indexes": [ 3 ]
				} ,
				{
					"prompt": "Normal platelet count ___ the platelet count during DIC." ,
					"choices": [
						"Greater than" ,
						"Less than" ,
						"Equal to"
					] ,
					"correct_answer_indexes": [ 0 ]
				} ,
				{
					"prompt": "EPO level in Denver, CO ___ EPO level with hypoxia." ,
					"choices": [
						"Greater than" ,
						"Less than" ,
						"Equal to"
					] ,
					"correct_answer_indexes": [ 2 ]
				} ,
				{
					"prompt": "Direct bilirubin with hepatic jaundice ___ direct bilirubin with prehepatic jaundice." ,
					"choices": [
						"Greater than" ,
						"Less than" ,
						"Equal to"
					] ,
					"correct_answer_indexes": [ 1 ]
				} ,
				{
					"prompt": "Blood that drips onto the skin will cause the activation of ____________ thus causing coagulation to occur." ,
					"choices": [
						"von Willebrand factor" ,
						"Tissue thromboplastin" ,
						"Hageman factor" ,
						"Xerelto"
					] ,
					"correct_answer_indexes": [ 2 ]
				} ,
				{
					"prompt": "Leukopenia would be found commonly with ______________." ,
					"choices": [
						"DIC" ,
						"Blood doping" ,
						"Excessive bleeding" ,
						"AIDS patients" ,
						"Sickle cell anemia"
					] ,
					"correct_answer_indexes": [ 3 ]
				} ,
				{
					"prompt": "Thrombocytopenia will assuredly lead to thrombosis." ,
					"choices": [
						"True" ,
						"False"
					] ,
					"correct_answer_indexes": [ 1 ]
				} ,
				{
					"prompt": "Immediately precedes the formation of thrombin." ,
					"choices": [
						"Activation of tissue thromboplastin" ,
						"Vascular spasm" ,
						"Formation of prothrombinase" ,
						"Formation of fibrin" ,
						"Platelet plug formation"
					] ,
					"correct_answer_indexes": [ 2 ]
				} ,
				{
					"prompt": "Competes with vitamin K" ,
					"choices": [
						"Coumadin" ,
						"Heparin" ,
						"Plavix" ,
						"Pradaxa" ,
						"Aspirin"
					] ,
					"correct_answer_indexes": [ 0 ]
				} ,
				{
					"prompt": "Which of these could cause a thrombus?" ,
					"choices": [
						"Prostacyclin" ,
						"Stasis" ,
						"Plasmin" ,
						"Inhibition of thromboxane" ,
						"Plasminogen activator"
					] ,
					"correct_answer_indexes": [ 1 ]
				} ,
				{
					"prompt": "Bleeding disorder that involves a deficiency of factor VIII." ,
					"choices": [
						"Von Willebrand disease" ,
						"Hemophilia A" ,
						"Hemophilia B" ,
						"Hemophilia C" ,
						"Two of the above"
					] ,
					"correct_answer_indexes": [ 0 , 1 , 4 ]
				} ,
				{
					"prompt": "If a child has type B blood _______________." ,
					"choices": [
						"and his mother has type O blood, his father must have type B blood." ,
						"and his mother has type A blood, his father must have type B blood." ,
						"and his mother has type B blood, his father must have type O blood." ,
						"and his mother has type AB blood, his father could not have type O blood." ,
						"and his mother is type A blood, his father could not have type A blood."
					] ,
					"correct_answer_indexes": [ 4 ]
				} ,
				{
					"prompt": "The rarest blood type in the U.S.A. contains antigen D." ,
					"choices": [
						"True" ,
						"False"
					] ,
					"correct_answer_indexes": [ 1 ]
				} ,
				{
					"prompt": "People with ___ blood have no A, B or Rh antigens." ,
					"choices": [
						"Type O<sup>+</sup>" ,
						"Type O<sup>+</sup>" ,
						"Type AB<sup>+</sup>" ,
						"Type AB<sup>-</sup>" ,
						"More than one"
					] ,
					"correct_answer_indexes": [ 1 ]
				} ,
				{
					"prompt": "People with ___ blood have no a, b or Rh Abs." ,
					"choices": [
						"Type O<sup>+</sup>" ,
						"Type O<sup>+</sup>" ,
						"Type AB<sup>+</sup>" ,
						"Type AB<sup>-</sup>" ,
						"More than one"
					] ,
					"correct_answer_indexes": [ 2 , 3 , 4 ]
				} ,
				{
					"prompt": "RBCs from ___ blood can be given to anyone without a potential adverse reaction." ,
					"choices": [
						"Type O<sup>+</sup>" ,
						"Type O<sup>+</sup>" ,
						"Type AB<sup>+</sup>" ,
						"Type AB<sup>-</sup>" ,
						"More than one"
					] ,
					"correct_answer_indexes": [ 1 ]
				} ,
				{
					"prompt": "A person with type AB blood could receive plasma from people with ____ blood." ,
					"choices": [
						"Type A" ,
						"Type B" ,
						"Type AB" ,
						"Type O" ,
						"More than one"
					] ,
					"correct_answer_indexes": [ 2 ]
				} ,
				{
					"prompt": "___ blood will cause an agglutination reaction of A erythrocytes but not A plasma." ,
					"choices": [
						"Type A" ,
						"Type B" ,
						"Type AB" ,
						"Type O" ,
						"More than one"
					] ,
					"correct_answer_indexes": [ 3 ]
				} ,
				{
					"prompt": "___ blood can accept a cell transfusion from type B blood." ,
					"choices": [
						"Type A" ,
						"Type B" ,
						"Type AB" ,
						"Type O" ,
						"More than one"
					] ,
					"correct_answer_indexes": [ 1 , 2 , 4 ]
				}
			]
		};
	</script>
</body>
</html>